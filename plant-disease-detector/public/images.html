<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uploaded Images & Diagnoses</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 font-sans">
    <div class="container mx-auto py-8">
        <h1 class="text-3xl font-bold mb-6 text-center">Uploaded Images & Diagnoses</h1>
        <div id="imagesList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
    </div>
    <script>
    async function fetchImages() {
        const res = await fetch('/api/images');
        const data = await res.json();
        const container = document.getElementById('imagesList');
        if (data.success && data.images.length) {
            container.innerHTML = data.images.map(img => `
                <div class="bg-white rounded-lg shadow p-4">
                    <div class="mb-2 text-sm text-gray-500">${img.uploadDate ? new Date(img.uploadDate).toLocaleString() : ''}</div>
                    <div class="mb-2 font-bold">${img.originalname}</div>
                    <div class="mb-2 text-xs text-gray-400">${img.mimetype} (${(img.size/1024).toFixed(1)} KB)</div>
                    <div class="mb-2"><strong>Disease:</strong> ${img.diagnosis}</div>
                    <div class="mb-2"><strong>Treatment:</strong> ${img.treatment}</div>
                    <div class="mb-2"><strong>Confidence:</strong> ${img.confidence}</div>
                </div>
            `).join('');
        } else {
            container.innerHTML = '<div class="text-center text-gray-500">No images found.</div>';
        }
    }
    fetchImages();
    </script>
</body>
</html>
